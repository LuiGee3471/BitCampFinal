<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.or.bit.dao.ScheduleDao">
  <insert id="insertSchedule">
    INSERT INTO schedule (start_date, end_date, title, color, group_id,
    course_id)
    VALUES(#{start_date}, #{end_date}, #{title}, #{color}, #{group_id}, #{course_id})
  </insert>
  <update id="updateSchedule">
    UPDATE schedule
    SET start_date = #{start_date},
    end_date = #{end_date},
    title = #{title},
    color = #{color}
    WHERE id = #{id}
  </update>
  <delete id="deleteSchedule">
    DELETE
    FROM schedule
    WHERE id = #{id}
  </delete>
  <select id="selectSchedule" resultType="kr.or.bit.model.Schedule">
    SELECT id, start_date, end_date, title, color, group_id, course_id
    FROM schedule
    WHERE id = #{id}
  </select>
  <select id="selectScheduleForClass" resultType="kr.or.bit.model.Schedule">
    SELECT id, start_date, end_date, title, color, group_id, course_id
    FROM schedule
    WHERE course_id = #{course_id}
    AND group_id = 0
  </select>
  <select id="selectScheduleForGroup" resultType="kr.or.bit.model.Schedule">
    SELECT id, start_date, end_date, title, color, group_id, course_id
    FROM schedule
    WHERE course_id = #{course_id}
    AND group_id IN (0, #{group_id})
  </select>
</mapper>
  